<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>CHD Twine Stories</title>

		<link rel='icon' type='image/x-icon' href='images/favicon.ico' />
		<link rel="stylesheet" href="css/app.css">
	</head>
	<body>
		<h1>Welcome to my Twine Stories</h1>
		<p>Below you will see a list of all my stories.</p>
		
		<script>
		  (async () => {
			const response = await fetch('https://api.github.com/repos/CrunchyHotDogs/TwineStories/contents/');
			const data = await response.json();
			let htmlString = '<ul>';
			for (let file of data) {
			  htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
			}
			htmlString += '</ul>';
			document.getElementsByTagName('body')[0].innerHTML = htmlString;
		  })()
    </script>
	</body>
</html>
